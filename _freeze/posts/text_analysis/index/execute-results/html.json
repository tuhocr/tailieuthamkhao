{
  "hash": "df4b3b59ab2758824833e468779300b2",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Các lệnh xử lý chuỗi\"\nauthor: \"Duc Nguyen\"\ndate: last-modified\nlightbox: true\ncategories: [text analysis]\neditor_options: \n  chunk_output_type: console\n---\n\n\n# Xử lý sở hữu cách\n\nThực tế là ta sẽ loại bỏ dấu `'s`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nv <- c(\"electricity's\", \"it's\", \"what's\")\n\nclean <- gsub(pattern = \"'s$\", # àm sạch ok\n              replacement = \"\",\n              x = v)\n\nclean\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"electricity\" \"it\"          \"what\"       \n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nv <- c(\"electricity's\", \"it's\", \"what's\")\n\nclean <- gsub(pattern = \"'s\\\\b\", \n              replacement = \"\",\n              x = v)\n\nclean\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"electricity\" \"it\"          \"what\"       \n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ntext <- c(\"electricity's impact on people's life's\",\n          \"it's is a good idea\",\n          \"what's\",\n          \"electricity's\")\n\nclean_text <- gsub(pattern = \"'s\\\\b\", # cú pháp này mạnh hơn\n                   replacement = \"\", \n                   x = text)\n\nclean_text\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"electricity impact on people life\" \"it is a good idea\"                \n[3] \"what\"                              \"electricity\"                      \n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(stringr)\n\nclean <- stringr:::str_remove(string = v, \n                     pattern = \"'s$\")\n\nclean\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"electricity\" \"it\"          \"what\"       \n```\n\n\n:::\n\n```{.r .cell-code}\nclean <- stringr:::str_remove(string = v, \n                     pattern = \"'s\\\\b\")\n\nclean\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"electricity\" \"it\"          \"what\"       \n```\n\n\n:::\n\n```{.r .cell-code}\n# lệnh này lọc còn sót chữ [people's], [life's]\nclean <- stringr:::str_remove(string = text, \n                     pattern = \"'s\\\\b\")\n\nclean\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"electricity impact on people's life's\"\n[2] \"it is a good idea\"                    \n[3] \"what\"                                 \n[4] \"electricity\"                          \n```\n\n\n:::\n:::\n\n\n\n# Quy trình clean text\n\nchuyển về cùng upper hoặc lower case\n\nclean thô: dùng grep, gsub, which để fix từ\n\nclean ký tự unicode\n\nclean dấu quote\n\nrã token\n\nclean stop word (có thể add thêm word cần loại)\n\nclean synonym\n\ngộp theo topic\n\nxử lý miss spelling\n\n# Sắp xếp thứ tự vector này theo thứ tự vector kia\n\n\n::: {.cell}\n\n```{.r .cell-code}\na <- c(\"ok\", \"yes\", \"happy\", \"well\", \"right\", \"thanks\")\n\nb <- c(\"right\", \"thanks\", \"ok\", \"yes\", \"well\", \"happy\")\n\nb_sorted_1 <- b[match(a, b)]\n\nb_sorted_2 <- b[order(match(b, a))]\n\nidentical(a, b)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] FALSE\n```\n\n\n:::\n\n```{.r .cell-code}\nidentical(a, b_sorted_1)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] TRUE\n```\n\n\n:::\n\n```{.r .cell-code}\nidentical(a, b_sorted_2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] TRUE\n```\n\n\n:::\n:::\n\n\n# Ghi chữ superscript unicode\n\n`https://wumbo.net/symbols/superscript-two/`\n\n# Lưu ý khi xếp thứ tự\n\n\n::: {.cell}\n\n```{.r .cell-code}\nv <- c(\"Châu Thành\", \"Cái Răng\")\n\n# Khi có dấu\n\"Châu Thành\" > \"Cái Răng\"\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] TRUE\n```\n\n\n:::\n\n```{.r .cell-code}\n\"Châu Thành\" < \"Cái Răng\"\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] FALSE\n```\n\n\n:::\n\n```{.r .cell-code}\n# Khi không dấu\n\"Chau Thanh\" > \"Cái Răng\"\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] TRUE\n```\n\n\n:::\n\n```{.r .cell-code}\n\"Chau Thanh\" < \"Cai Rang\"\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] FALSE\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(stringi)\nf1 <- stri_trans_general(str = \"Châu Thành\", id = \"Latin-ASCII\")\nf1\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Chau Thanh\"\n```\n\n\n:::\n\n```{.r .cell-code}\nf2 <- stri_trans_general(str = \"Cái Răng\", id = \"Latin-ASCII\")\nf2\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Cai Rang\"\n```\n\n\n:::\n\n```{.r .cell-code}\nf1 > f2\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] TRUE\n```\n\n\n:::\n\n```{.r .cell-code}\nf1 < f2\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] FALSE\n```\n\n\n:::\n\n```{.r .cell-code}\ng <- c(f1,f2)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(dplyr)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'dplyr'\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n```\n\n\n:::\n\n```{.r .cell-code}\ndf_v <- as.data.frame(v)\n\ndf_v\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n           v\n1 Châu Thành\n2   Cái Răng\n```\n\n\n:::\n\n```{.r .cell-code}\ndf_v |> dplyr:::arrange(v)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n           v\n1 Châu Thành\n2   Cái Răng\n```\n\n\n:::\n\n```{.r .cell-code}\ndf_g <- as.data.frame(g)\n\ndf_g\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n           g\n1 Chau Thanh\n2   Cai Rang\n```\n\n\n:::\n\n```{.r .cell-code}\ndf_g |> dplyr:::arrange(g) # function này đảo lại vị trí khi có không còn dấu unicode\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n           g\n1   Cai Rang\n2 Chau Thanh\n```\n\n\n:::\n:::\n\n\nKinh nghiệm rút ra: để sắp xếp alphabet chuẩn, ta loại bỏ dấu của từ, rồi mới `arrange`.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}